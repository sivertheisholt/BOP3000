<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="nav-items-wrapper">
    <div class="navbar-brand">
      <a class="navbar-item navbar-logo">
        <img src="../../../assets/images/playfu.png">
      </a>
      <a [routerLink]="['upgrade']" class="upgrade-btn">
        UPGRADE
      </a>
    </div>
    <div class="nav-items">
      <div class="navbar-item">
        <div>
          <input class="input is-primary is-small" type="text" placeholder="Search..." #searchInput>
        </div>
        <div class="search-results has-text-centered">
          <div class="result-item" *ngFor="let user of searchResults">
            <a (click)="clearSearch()" [routerLink]="'account/' + user.id "> {{ user.userName }} </a>
          </div>
        </div>
      </div>
      <div class="navbar-item">
        <div class="dropdown" [ngClass]="isNotiVisible ? 'is-active' : ''">
          <div class="dropdown-trigger">
            <a (click)="toggleNotifications()" class="noti" aria-haspopup="true" aria-controls="dropdown-menu2">
              <span><fa-icon class="noti-icon fa-2x" [icon]="faBell"></fa-icon></span>
              <span class="noti-number" *ngIf="totalNotifications > 0">{{ totalNotifications }}</span>
            </a>
          </div>
          <div class="dropdown-menu" id="dropdown-menu2" role="menu">
            <div class="dropdown-content">
              <div class="dropdown-item" *ngFor="let notification of notifications">
                <p>{{ notification }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="navbar-brand nav-burger">
      <a (click)="toggleNavbar()" role="button" class="navbar-burger burger" #navBurger aria-label="menu" aria-expanded="false" data-target="navbar-burger-menu" [ngClass]="isNavVisible ? 'is-active' : ''">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  </div>

  <div id="navbar-burger-menu" class="ml-3" #navMenu *ngIf="isNavVisible">
    <p class="menu-label has-text-centered mt-5">Navigation</p>
    <ul class="menu-list">
      <li><a [routerLink]="['home']"><fa-icon class="fa-lg mr-2" [icon]="faHome"></fa-icon>Home</a></li>
    </ul>
    <p class="menu-label has-text-centered">Matchmaking</p>
    <ul class="menu-list">
      <li><a [routerLink]="['create-lobby']"><fa-icon class="fa-lg mr-2" [icon]="faBullseye"></fa-icon>Create Lobby</a></li>
      <li><a [routerLink]="['find-lobby']"><fa-icon class="fa-lg mr-2" [icon]="faUsers"></fa-icon>Find Lobby</a></li>
    </ul>
    <p class="menu-label has-text-centered">Account</p>
    <ul class="menu-list">
      <li><a [routerLink]="['account']"><fa-icon class="fa-lg mr-2" [icon]="faUser"></fa-icon>Account</a></li>
      <li><a [routerLink]="['activity']"><fa-icon class="fa-lg mr-2" [icon]="faGlobe"></fa-icon>Activity</a></li>
      <li><a [routerLink]="['settings']"><fa-icon class="fa-lg mr-2" [icon]="faCogs"></fa-icon>Settings</a></li>
      <li><a [routerLink]="['help']"><fa-icon class="fa-lg mr-2" [icon]="faQuestionCircle"></fa-icon>Help</a></li>
        <li><a (click)="logOut()"><fa-icon class="fa-lg mr-2" [icon]="faSignOutAlt"></fa-icon>Log Out</a></li>
    </ul>
  </div>
</nav>